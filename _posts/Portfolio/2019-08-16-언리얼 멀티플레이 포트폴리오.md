---
title: "언리얼4 멀티플레이 게임 포트폴리오"
categories: 
  - Portfolio
last_modified_at: 2019-08-16T13:00:00+09:00
toc: true
sidebar_main: true
---


***

# 프로젝트 소개

***

![1](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/intro.png?raw=true)

언리얼 엔진을 이용한 멀티플레이 슈팅게임입니다.

스팀 플러그인을 통해 세션을 생성하고 참가할 수 있으며, RPC함수를 이용해 멀티 게임플레이를 구성했습니다.

> 사용 엔진

Unreal Engine 4

> 플랫폼

Window 64bit

> 장르 

멀티플레이 TPS 슈팅게임


> 개발 기간

4주

***

# 개발 과정

## 멀티 플레이 캐릭터 구성

![1](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/1.png?raw=true)

스테이트 머신을 이용해 캐릭터 행동에 따른 애니메이션을 구성하고 멀티플레이를 위하여 RPC를 통해 클라이언트와 서버에 동기화 해주었습니다.

## 발사체 낙차 구현

![2](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/2.png?raw=true)

![projectile](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/projectile.png?raw=true)

사실적인 효과를 주기위해 생성되는 발사체의 낙차를 구현하였습니다.

## 스팀 온라인 서브시스템

![steam](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/steam.png?raw=true)

스팀 온라인 서브시스템 플러그인을 통해 스팀과 연동하고 세션을 만들고 참가할수 있도록 했습니다.

## UI 레벨 구성

> Main UI

![main](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/main.png?raw=true)

Main 레벨에는 메인화면 위젯과 Setting 위젯을 배치했습니다. 

세팅 값은 `GameInstance`에 저장되어 변경한 옵션이 유지되도록 했습니다.


> 세션 UI

![createserver](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/createFindserver.png?raw=true)

다양한 옵션을 조절하여 세션을 생성하거나 참여 할수있도록 했습니다.

세션을 생성하면 `GameInstance`로 값이 저장되며 저장된 세팅으로 세션을 생성하고 `Lobby` 레벨로 이동하도록 했습니다.


> Lobby

![lobby](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/lobby.png?raw=true)

세션이 생성되면 설정된 값으로 로비위젯을 띄우고 세션에 참가하는 플레이어를 업데이트 하도록 했습니다.

게임 시작버튼을 누르면 설정된 레벨로 `ServerTravel` 하여 모든 플레이어가 새로운 레벨로 이동되도록 했습니다.


> 인게임 레벨

![ingame](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/ingame.png?raw=true)

인게임 레벨로 도시와 정글 레벨로 구성했으며, 캐릭터의 정보를 나타내는 UI와 채팅창 UI, ESC키를 눌렀을때 나타나는 메뉴로 구성했습니다.

![winlose](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/winlose.png?raw=true)

한쪽 캐릭터가 죽으면 `Delegate`를 통해 캐릭터가 살아있는 클라이언트에게는 승리 위젯을 죽어있는 클라이언트에게는 패배 위젯을 생성하도록 했습니다.

## 추가 게임 요소

![easter](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/MPPort/easter.png?raw=true)

추가 게임요소로 폭격 시스템과 이스터에그를 추가해보았습니다.

# 상세 개발과정

[멀티플레이어 캐릭터 구성](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%A9%80%ED%8B%B0%ED%94%8C%EB%A0%88%EC%9D%B4-%EC%8A%88%ED%8C%85%EA%B2%8C%EC%9E%84-%EC%BA%90%EB%A6%AD%ED%84%B0-%EA%B5%AC%EC%84%B1/)

[온라인 서브시스템 Steam](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EC%98%A8%EB%9D%BC%EC%9D%B8-%EC%84%9C%EB%B8%8C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/)

[채팅 UI](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%A9%80%ED%8B%B0-%ED%94%8C%EB%A0%88%EC%9D%B4-%EC%B1%84%ED%8C%85/)

[멀티플레이 폭격](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%A9%80%ED%8B%B0-%ED%94%8C%EB%A0%88%EC%9D%B4-%ED%8F%AD%EA%B2%A9-%EA%B5%AC%ED%98%84/)


# 플레이 영상 및 Github 주소

> 플레이 영상

<iframe width="560" height="315" src="https://www.youtube.com/embed/U_kw0PyjHHw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


> GitHub 

[https://github.com/lesslate/UE4-Multiplay-TPS](https://github.com/lesslate/UE4-Multiplay-TPS)