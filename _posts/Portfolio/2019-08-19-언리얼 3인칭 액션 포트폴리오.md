---
title: "언리얼4 3인칭 액션게임 포트폴리오"
categories: 
  - Portfolio
last_modified_at: 2019-08-19T13:00:00+09:00
toc: true
sidebar_main: true
---


***

# 프로젝트 소개

***

![1](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/intro.png?raw=true)

언리얼 엔진을 이용한 히트박스형 3인칭 액션 게임 프로젝트입니다.

주로 비헤이비어 트리를 이용한 보스 몬스터의 AI를 만들어 보았습니다.

> 사용 엔진

Unreal Engine 4 - 4.19

> 플랫폼

Window 64bit

> 장르 

3인칭 액션


> 개발 기간

4주

***

# 개발 과정

## 플레이어 캐릭터 구성

![Player](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/player.png?raw=true)

플레이어 캐릭터의 무기 콜리전, 애니메이션, 콤보, 히트 여부등을 코드로 구성했습니다.  


## 보스 액터 생성

![boss1](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/boos.png?raw=true)

![boos2](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/boss2.png?raw=true)


보스 액터를 생성하고 코드를 통해 애니메이션, 공격시 무기 콜리전 활성화, 사용하게될 AI컨트롤러 지정 등을 지정해주었습니다.  


## 비헤이비어 트리 구성

![wholeBt](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/wholeBT.png?raw=true)

비헤이비어 트리와 블랙보드를 이용하여 값에 따라 보스가 어떤 행동을 할지 구성했습니다. 

> 일반 패턴

![normal](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/normal.png?raw=true)

![normal2](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/normal2.png?raw=true)

비헤이비어 트리가 루트에서 부터 실행되면 플레이어를 감지하고 난수를 발생시킨 다음 공격할 수 있는 거리를 체크하고 생성된 난수에따라(확률) 공격 애니메이션을 실행하도록 했습니다.

> 회전 패턴

![LR](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/leftright.png?raw=true)

일반 패턴이 끝나면 잠시 대기후 플레이어 방향으로 회전하도록 했습니다.


보스가 플레이어를 향하는 벡터와 Forward 벡터를 외적하고 다시 Up 벡터를 내적하여 나오는 값의 크기에 따라 플레이어의 위치가 좌측인지 우측인지 판별하고 Selector가 선택하도록 했습니다.


> 원거리 패턴

![LD](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/LD.png?raw=true)

보스와 플레이어와의 거리가 멀어 공격할 수 없는 상황일 때 난수를 발생시키고 일정거리 이하일땐 플레이어를 추격하도록 했습니다.

일정거리 이상으로 멀어지면 돌진, 메테오 소환, 도발 등의 패턴을 랜덤 확률(난수)에 따라 실행하도록 했습니다.


## 레벨구성

![1evel](https://github.com/lesslate/lesslate.github.io/blob/master/assets/img/Portfolio/RaidPort/level.png?raw=true)

레벨은 에픽게임즈에서 제공하는 Cave 에셋으로 구성했으며 입구에 Trigger 액터를 배치해 플레이어가 오버랩될 시 델리게이트를 통해 Door 액터의 콜리전을 활성화시키고 보스 액터를 중앙에 스폰시키도록 구성했습니다.  


# 상세 개발과정

[캐릭터 콤보](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-C++-%EB%A9%80%ED%8B%B0%ED%94%8C%EB%A0%88%EC%9D%B4-%EC%BA%90%EB%A6%AD%ED%84%B0-%EC%BD%A4%EB%B3%B4/)

[비헤이비어 트리 좌우판별](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EC%A2%8C%EC%9A%B0-%ED%8C%90%EB%B3%84/)

[비헤이비어 트리 돌진패턴](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EC%9B%90%EA%B1%B0%EB%A6%AC-%EB%8F%8C%EC%A7%84-%ED%8C%A8%ED%84%B4/)

[비헤이비어 트리 원거리 스킬 패턴](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EC%9B%90%EA%B1%B0%EB%A6%AC-%EC%8A%A4%ED%82%AC/)

[비헤이비어 트리 점프 패턴](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EC%A0%90%ED%94%84-%ED%8C%A8%ED%84%B4/)

[비헤이비어 트리 범위 패턴](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EB%B2%94%EC%9C%84-%ED%8C%A8%ED%84%B4/)

[비헤이비어 트리 랜덤 패턴](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-Behavior-Tree-%EB%9E%9C%EB%8D%A4-%ED%8C%A8%ED%84%B4/)

[AI 정지/시작](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-AI%EC%A0%95%EC%A7%80-%EC%8B%9C%EC%9E%91/)

[보스/캐릭터 데미지 전달](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-%EC%BA%90%EB%A6%AD%ED%84%B0-%EB%8D%B0%EB%AF%B8%EC%A7%80-%EC%A0%84%EB%8B%AC/)

[트레일 이펙트](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-Trail/)

[보스 페이즈 전환](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%B3%B4%EC%8A%A4-%ED%8E%98%EC%9D%B4%EC%A6%88-Boss-Phase/)

[레벨 스트리밍 (로딩)](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%A0%88%EB%B2%A8-%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D(%EB%A1%9C%EB%94%A9)/)

[레벨 구성](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EB%A0%88%EB%B2%A8-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0/)

[Setting UI 제작](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-%EC%84%B8%ED%8C%85-UI-%EB%A7%8C%EB%93%A4%EA%B8%B0/)

[UI 구성하기](https://lesslate.github.io/unreal4/%EC%96%B8%EB%A6%AC%EC%96%BC4-UI-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0/)


# 플레이 영상 및 Github 주소

> 플레이 영상

<iframe width="560" height="315" src="https://youtu.be/3UrmHi87_c0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


> GitHub 

[https://github.com/lesslate/UE4-Third-Person-Action](https://github.com/lesslate/UE4-Third-Person-Action)