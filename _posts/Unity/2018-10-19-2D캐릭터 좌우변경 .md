---
title: "캐릭터 좌우변경"
categories: 
  - Unity
last_modified_at: 2018-10-20T13:00:00+09:00
tags: 
  - jekyll
toc: true
---

## Intro

키 입력에따른 캐릭터의 좌우변경


## Transform 변경으로 좌우변경

부모오브젝트의 Scale X의 값을 -1로하면 좌우가 반전되는것을 이용하는 방법

**소스 코드**

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerMovement : MonoBehaviour {

    public float movePower = 1f;
    public float jumpPower = 1f;
  
    Rigidbody2D rigid;

    Vector3 movement;
    bool isJuming = false;
   


	// Use this for initialization
	void Start ()
    {
        rigid = gameObject.GetComponent<Rigidbody2D>();
       
       
	}
	
	// Update is called once per frame
	void Update ()
    {
        if (Input.GetButtonDown("Jump"))
        {
            isJuming = true;
        }
		
	}

    void FixedUpdate()
    {
        Move();
        Jump();
    }

    void Move()
    {
        Vector3 moveVelocity = Vector3.zero;

        if (Input.GetAxisRaw("Horizontal") < 0)
        {
            moveVelocity = Vector3.left;

            ``transform.localScale = new Vector3(-1, 1, 1);``
            
           
        }
        else if (Input.GetAxisRaw("Horizontal") > 0)
        {
            moveVelocity = Vector3.right;

            ``transform.localScale = new Vector3(1, 1, 1);``
            

        }
        transform.position += moveVelocity * movePower * Time.deltaTime;
    }
    
    void Jump()
    {
        if (!isJuming)
            return;

        rigid.velocity = Vector2.zero;
        Vector2 jumpVelocity = new Vector2(0, jumpPower);
        rigid.AddForce(jumpVelocity, ForceMode2D.Impulse);

        isJuming = false;
    }
}
```
<script src="https://gist.github.com/lesslate/54b63350baf573dbe893003aa146fcaa"> </script>


## 자식 오브젝트 Flip X로 변경 

![unity1](https://github.com/lesslate/blog/blob/master/assets/img/Unity/unity2-2.png?raw=true)

자식 오브젝트인 Sprite 컴포넌트에서 Filp X에 체크하면 좌우가 반전되는것을 이용하는 방법

**소스 코드**

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player: MonoBehaviour {

    public float movePower = 1f;
    public float jumpPower = 1f;
  
    Rigidbody2D rigid;
                                    
   `` public SpriteRenderer rend;``
   
  

    Vector3 movement;
    bool isJuming = false;
   


	// Use this for initialization
	void Start ()
    {
        rigid = gameObject.GetComponent<Rigidbody2D>();
       `` rend = GetComponentInChildren<SpriteRenderer>();``
        
    }
	
	// Update is called once per frame
	void Update ()
    {
        if (Input.GetButtonDown("Jump"))
        {
            isJuming = true;
        }
		
	}

    void FixedUpdate()
    {
        Move();
        Jump();
    }

    void Move()
    {
        Vector3 moveVelocity = Vector3.zero;

        if (Input.GetAxisRaw("Horizontal") < 0)
        {
            moveVelocity = Vector3.left;

           
           `` rend.flipX = true;``
           
        }
        else if (Input.GetAxisRaw("Horizontal") > 0)
        {
            moveVelocity = Vector3.right;

            
          `` rend.flipX = false;``

        }
        transform.position += moveVelocity * movePower * Time.deltaTime;
    }
    
    void Jump()
    {
        if (!isJuming)
            return;

        rigid.velocity = Vector2.zero;
        Vector2 jumpVelocity = new Vector2(0, jumpPower);
        rigid.AddForce(jumpVelocity, ForceMode2D.Impulse);

        isJuming = false;
    }
}
```



## 결과

![unity2-1](https://github.com/lesslate/blog/blob/master/assets/img/Unity/unity2-1.gif?raw=true)

키 입력에 따라 좌우가 변경되는 모습